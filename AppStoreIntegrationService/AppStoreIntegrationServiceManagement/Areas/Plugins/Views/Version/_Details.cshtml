@model ExtendedPluginVersion

<div class="p-3 border-bottom">
    @if (!Model.IsNewVersion)
    {
        <partial name="_VersionSubMenu" model="@Model" />
    }

    <input hidden name="Page" value="@Page.Version" />
    <partial name="_VersionDetailsPartial" model="@Model" />

    @if (Model.IsThirdParty && User.IsInRole("Developer"))
    {
        <button class="btn pa-admin-success-btn" onclick="Save('@Model.PluginId', 'Submit')">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" hidden></span>
            Submit
        </button>
        <button class="btn pa-admin-outline-success-btn" onclick="Save('@Model.PluginId', 'SaveAsDraft')">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" hidden></span>
            Save as draft
        </button>
    }
    else
    {
        <button class="btn pa-admin-success-btn" onclick="Save('@Model.PluginId', 'Save')">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" hidden></span>
            Save
        </button>

        @if (Model.VersionStatus.Equals(Status.Active))
        {
            <button class="btn btn-outline-secondary" onclick="Save('@Model.PluginId', 'Deactivate')">
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" hidden></span>
                Deactivate
            </button>
        }

        @if (Model.VersionStatus.Equals(Status.Inactive))
        {
            <button class="btn pa-admin-outline-success-btn" onclick="Save('@Model.PluginId', 'Activate')">
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" hidden></span>
                Activate
            </button>
        }
    }
</div>

<script asp-append-version="true">let isReadOnly = false</script>
<script src="~/js/DropDown.js" asp-append-version="true"></script>
