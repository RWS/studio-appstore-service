@inject CustomizationHelper Helper
@{
    ViewData["Title"] = "Settings";
    ViewData["ActivePage"] = ManageSettingsNav.Preferences;
    var cookies = Context.Request.Cookies;
    var defaults = new[] { "navbar", "success", "select" };
}

<h1 class="fs1-inherit">Settings</h1>
<h2 class="fs2-inherit">Change site settings</h2>
<hr class="w-100">
<div class="row d-flex" id="settings-page">
    <partial name="_SettingsNavPartial" />
    <div class="col-12 col-md-9">
        <div class="settings-details">
            <partial name="_PreferencesTabPartial" model="true" />
            <form class="row mb-2" id="form">
                <div class="col-12 align-items-center d-flex mb-2">
                    <label class="text-nowrap align-self-center col-4">Font size:</label>
                    <input onchange="ChangeFontSize('')" class="form-control form-control-sm fs-inherit" type="number" min="16" max="36" value="@(Helper.GetFontSizeForField(null, "16"))">
                </div>
                <div class="col-12 align-items-center d-flex mb-2">
                    <label class="text-nowrap align-self-center col-4">Font family:</label>
                    <div class="dropdown col-8">
                        <div class="border rounded w-100 p-2" role="button" id="dropDownToggle" data-bs-toggle="dropdown" aria-expanded="false" onclick="ApplyFonts()">
                            @(Helper.GetFontFamilyForField(null, "Select family..."))
                        </div>
                        <ul class="dropdown-menu custom-select p-0 w-100 fs-inherit" onscroll="ApplyFonts()" onclick="ChangeFontFamily('')" aria-labelledby="dropDownToggle">
                            @foreach (var font in Helper.FontFamilies)
                            {
                                if (cookies["FontFamily"] == font)
                                {
                                    <li class="dropdown-item" selected>@font</li>
                                }
                                else
                                {
                                    <li class="dropdown-item">@font</li>
                                }
                            }
                        </ul>
                    </div>
                </div>
                <div class="col-12 align-items-center d-flex mb-2">
                    <label class="text-nowrap align-self-center col-4">Default themes:</label>
                    <div class="w-50 d-flex">
                        <input type="color" onchange="ChangeBackground('')" class="form-control form-control-sm fs-inherit w-25 me-2" data-bs-toggle="tooltip" data-bs-placement="top" title="Background"
                               value="@(Helper.GetBackgroundForField(null, "#28b059"))" />
                        <input type="color" onchange="ChangeForeground('')" class="form-control form-control-sm fs-inherit w-25" data-bs-toggle="tooltip" data-bs-placement="top" title="Foreground"
                               value="@(Helper.GetForegroundForField(null, "#FFFFFF"))" />
                    </div>
                </div>
                <div class="col-12 align-items-center d-flex">
                    <label class="text-nowrap align-self-center col-4">Logo:</label>
                    <input type="text" onchange="ChangeLogo()" class="form-control form-control-sm fs-inherit" value="@cookies["LogoImage"]" />
                </div>
            </form>
            <button type="button" onclick="RestorePreferences()" class="btn pa-admin-success-btn fs-inherit">Restore defaults</button>
        </div>
    </div>
</div>
