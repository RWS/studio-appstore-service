@model List<PluginVersion>

<div id="selectedVersion">
    @if (Model != null)
    {
        @for (int i = 0; i < @Model.Count; i++)
        {
            <input hidden asp-for="@Model[i].Id" />
            <input hidden asp-for="@Model[i].VersionNumber" />
            <input hidden asp-for="@Model[i].MinimumRequiredVersionOfStudio" />
            <input hidden asp-for="@Model[i].AppHasStudioPluginInstaller" />
            <input hidden asp-for="@Model[i].TechnicalRequirements" />
            <input hidden asp-for="@Model[i].IsNavigationLink" />
            <input hidden asp-for="@Model[i].SelectedProduct.Id" />
            <input hidden asp-for="@Model[i].SelectedProduct.ProductName" />
            <input hidden asp-for="@Model[i].SelectedProduct.ParentProductID" />
            <input hidden asp-for="@Model[i].SelectedProduct.MinimumStudioVersion" />
            <input hidden asp-for="@Model[i].DownloadUrl" />
            <input hidden asp-for="@Model[i].IsPrivatePlugin" />

            for (int j = 0; j < Model[i].SupportedProducts.Count; j++)
            {
                <input hidden asp-for="@Model[i].SupportedProducts[j].Id" />
                <input hidden asp-for="@Model[i].SupportedProducts[j].ParentProductID" />
                <input hidden asp-for="@Model[i].SupportedProducts[j].ProductName" />
                <input hidden asp-for="@Model[i].SupportedProducts[j].MinimumStudioVersion" />
            }

            <input hidden asp-for="@Model[i].VersionName" />
            <div class="version-row">
                <label class="version-label" onclick="ShowVersionDetails('@Model[i].Id')">@Model[i].VersionName</label>
                @if (Model.Count > 1)
                {
                    <i class="far fa-trash-alt pl-2 version-icon" onclick="DeleteVersion('@Model[i].Id')"></i>
                }
            </div>
        }
    }
</div>

<div class="modal fade" id="confirmDeletePluginVersion" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Confirmation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this plugin version?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" id="confirmDeletePluginVersionButton" data-dismiss="modal" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>
</div>